{"version":3,"sources":["webpack:///./src/pages/Settings.vue?5342","webpack:///./src/pages/Settings.vue?0b05","webpack:///./src/pages/Settings.vue","webpack:///./src/pages/Settings.vue?cc14","webpack:///./src/pages/Settings.vue?ed43"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","showDevelopItems","_v","getFullDB","_e","uploadFile","directives","name","rawName","value","expression","ref","dataUploaded","staticRenderFns","Mappers","extend","methods","mapActions","rootInit","infoInit","stepsToDevelopMenu","developMenu","DB","getDBObject","db","Blob","JSON","stringify","type","$refs","dataUpload","click","$event","target","files","answer","confirm","file","reader","FileReader","readAsText","onload","readerEvent","data","result","createDBFromObject","parse","component"],"mappings":"gHAAA,yBAA6gB,EAAG,G,0CCAhhB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmBC,MAAM,CAAC,GAAK,kBAAkB,CAACH,EAAG,MAAM,CAACE,YAAY,gBAAgBE,GAAG,CAAC,MAAQR,EAAIS,mBAAmB,CAACL,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACN,EAAIU,GAAG,2BAA2BN,EAAG,MAAM,CAACE,YAAY,gBAAgBE,GAAG,CAAC,MAAQR,EAAIW,YAAY,CAACX,EAAIU,GAAG,gBAAiBV,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACN,EAAIU,GAAG,uCAAuCV,EAAIY,KAAMZ,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACN,EAAIU,GAAG,qCAAqCN,EAAG,MAAM,CAACE,YAAY,gBAAgBE,GAAG,CAAC,MAAQR,EAAIa,aAAa,CAACb,EAAIU,GAAG,YAAYN,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAM,EAAQC,WAAW,UAAUC,IAAI,aAAaZ,MAAM,CAAC,KAAO,OAAO,OAAS,oBAAoBC,GAAG,CAAC,OAASR,EAAIoB,kBAAkBpB,EAAIY,QACp9BS,EAAkB,G,4JC6BhBC,EAAU,OAAIC,OAAO,CAC1BC,QAAS,kBACL,OAAWC,WAAW,CAAEC,SAAU,UAD/B,GAEH,OAAWD,WAAW,CAAEE,SAAU,aAKlB,EAArB,yG,0BAKC,EAAAC,mBAAqB,EAErB,EAAAC,aAAc,EAId,EAAAC,GAAK,OAXN,+NAcmB7B,KAAK6B,GAAGC,cAd3B,OAcQC,EAdR,OAgBE,eAAa,IAAIC,KAAK,CAACC,KAAKC,UAAUH,IAAM,CAAEI,KAAM,qBAAxC,uBAA+E,iBAA/E,UAhBd,wRAoBEnC,KAAKoC,MAAMC,WAAWC,QApBxB,4IAuBcC,GAAkB,WAC9B,GAAKA,EAAOC,OAAZ,CAEA,IAAMA,EAASD,EAAOC,OAEtB,GAAKA,EAAOC,MAAZ,CAEA,IAAMC,EAASC,QAAQ,uEAEvB,GAAKD,EAAL,CAEA,IAAME,EAAOJ,EAAOC,MAAM,GACpBI,EAAS,IAAIC,WAEnBD,EAAOE,WAAWH,EAAM,SAExBC,EAAOG,OAAP,yDAAgB,WAAMC,GAAN,0FACVA,EAAYT,OADF,wDAGTU,EAAOD,EAAYT,OAAOW,OAHjB,SAKT,EAAKtB,GAAGuB,mBAAmBnB,KAAKoB,MAAMH,IAL7B,uBAOT,EAAKzB,WAPI,uBAQT,EAAKC,WARI,2CAAhB,2DAvCF,yCAoDM1B,KAAK4B,cAET5B,KAAK2B,oBAAsB,EAEvB3B,KAAK2B,mBAAqB,KAAI3B,KAAK4B,aAAc,QAxDvD,GAA0CP,GAArB,EAAY,gBADhC,eAAU,CAAEP,KAAM,kBACE,WCtC8W,I,wBCQ/XwC,EAAY,eACd,EACAxD,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAkC,E","file":"js/chunk-59799dcb.a62142be.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-container\",attrs:{\"id\":\"page-settings\"}},[_c('div',{staticClass:\"settings-item\",on:{\"click\":_vm.showDevelopItems}},[_c('span',{staticClass:\"settings-item-description\"},[_vm._v(\"Save backup on device\")]),_c('div',{staticClass:\"action-button\",on:{\"click\":_vm.getFullDB}},[_vm._v(\"Download\")])]),(_vm.developMenu)?_c('div',{staticClass:\"settings-item settings-alert\"},[_vm._v(\"Next settings can drop your data!\")]):_vm._e(),(_vm.developMenu)?_c('div',{staticClass:\"settings-item\"},[_c('span',{staticClass:\"settings-item-description\"},[_vm._v(\"Upload saved backup from device\")]),_c('div',{staticClass:\"action-button\",on:{\"click\":_vm.uploadFile}},[_vm._v(\"Upload\")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"dataUpload\",attrs:{\"type\":\"file\",\"accept\":\"application/json\"},on:{\"change\":_vm.dataUploaded}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport { RootMapper } from 'Plugins/store/modules/root'\nimport { RootMapper as InfoMapper } from 'Plugins/store/modules/info'\nimport DB from 'Plugins/db'\nimport { downloadFile, getDate } from 'Utils/index'\n\nconst Mappers = Vue.extend({\n\tmethods: {\n\t\t...RootMapper.mapActions({ rootInit: '$init' }),\n\t\t...InfoMapper.mapActions({ infoInit: '$init' }),\n\t},\n})\n\n@Component({ name: 'SettingsPage' })\nexport default class SettingsPage extends Mappers {\n\t$refs!: {\n\t\tdataUpload: HTMLInputElement\n\t}\n\n\tstepsToDevelopMenu = 0\n\n\tdevelopMenu = false\n\n\tdataUpload: any\n\n\tDB = DB\n\n\tasync getFullDB(): Promise<void> {\n\t\tconst db = await this.DB.getDBObject()\n\n\t\tdownloadFile(new Blob([JSON.stringify(db)], { type: 'application/json' }), `time-manager-${getDate()}.json`)\n\t}\n\n\tasync uploadFile(): Promise<void> {\n\t\tthis.$refs.dataUpload.click()\n\t}\n\n\tdataUploaded($event: InputEvent) {\n\t\tif (!$event.target) return\n\n\t\tconst target = $event.target as HTMLInputElement\n\n\t\tif (!target.files) return\n\n\t\tconst answer = confirm('Are you sure you want to upload data? This action cannot be undone!') // eslint-disable-line\n\n\t\tif (!answer) return\n\n\t\tconst file = target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.readAsText(file, 'UTF-8')\n\n\t\treader.onload = async readerEvent => {\n\t\t\tif (!readerEvent.target) return\n\n\t\t\tconst data = readerEvent.target.result as string\n\n\t\t\tawait this.DB.createDBFromObject(JSON.parse(data))\n\n\t\t\tawait this.rootInit()\n\t\t\tawait this.infoInit()\n\t\t}\n\t}\n\n\tshowDevelopItems() {\n\t\tif (this.developMenu) return\n\n\t\tthis.stepsToDevelopMenu += 1\n\n\t\tif (this.stepsToDevelopMenu > 10) this.developMenu = true\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=ca21fefa&\"\nimport script from \"./Settings.vue?vue&type=script&lang=ts&\"\nexport * from \"./Settings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}